

<!DOCTYPE html>
<html lang="en">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>
      Component.js - Documentation
  </title>

  <link href="https://www.braintreepayments.com/images/favicon-ccda0b14.png" rel="icon" type="image/png">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.7.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>

  <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
  <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">

  

  <!-- start Mixpanel -->
  <script type="text/javascript">(function(e,a){if(!a.__SV){var b=window;try{var c,l,i,j=b.location,g=j.hash;c=function(a,b){return(l=a.match(RegExp(b+"=([^&]*)")))?l[1]:null};g&&c(g,"state")&&(i=JSON.parse(decodeURIComponent(c(g,"state"))),"mpeditor"===i.action&&(b.sessionStorage.setItem("_mpcehash",g),history.replaceState(i.desiredHash||"",e.title,j.pathname+j.search)))}catch(m){}var k,h;window.mixpanel=a;a._i=[];a.init=function(b,c,f){function e(b,a){var c=a.split(".");2==c.length&&(b=b[c[0]],a=c[1]);b[a]=function(){b.push([a].concat(Array.prototype.slice.call(arguments,
  0)))}}var d=a;"undefined"!==typeof f?d=a[f]=[]:f="mixpanel";d.people=d.people||[];d.toString=function(b){var a="mixpanel";"mixpanel"!==f&&(a+="."+f);b||(a+=" (stub)");return a};d.people.toString=function(){return d.toString(1)+".people (stub)"};k="disable time_event track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config reset people.set people.set_once people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" ");
  for(h=0;h<k.length;h++)e(d,k[h]);a._i.push([b,c,f])};a.__SV=1.2;b=e.createElement("script");b.type="text/javascript";b.async=!0;b.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===e.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";c=e.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)}})(document,window.mixpanel||[]);
  mixpanel.init("1919205b2da72e4da3b9b6639b444d59");</script>
  <!-- end Mixpanel -->
</head>

<body>
  <svg style="display: none;">
    <defs>
      <symbol id="linkIcon" fill="#706d77" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
          <path d="M0 0h24v24H0z" fill="none"/>
          <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>
      </symbol>
    </defs>
  </svg>

  <input type="checkbox" id="nav-trigger" class="nav-trigger" />
  <label for="nav-trigger" class="navicon-button x">
    <div class="navicon"></div>
  </label>

  <label for="nav-trigger" class="overlay"></label>

  <div class="top-nav-wrapper">
    <ul>
      <li >
        <a href="index.html">
          
            <svg fill="#6D6D6D" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
              <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
              <path d="M0 0h24v24H0z" fill="none"/>
            </svg>
          
          
        </a>
      </li>

      

    </ul>
  </div>

  <nav>
    <h3 class="reference-title">
      Braintree SDK Client Reference
    </h3>

    <h3>Classes</h3><ul><li id="DynamicTable-nav"><a href="DynamicTable.html">DynamicTable</a><ul class='methods'><li data-type="method" id="DynamicTable-getConfigModel-nav"><a href="DynamicTable.html#.getConfigModel">getConfigModel</a></li><li data-type="method" id="DynamicTable-getConfiguration-nav"><a href="DynamicTable.html#.getConfiguration">getConfiguration</a></li><li data-type="method" id="DynamicTable-getControl-nav"><a href="DynamicTable.html#.getControl">getControl</a></li><li data-type="method" id="DynamicTable-getDataModel-nav"><a href="DynamicTable.html#.getDataModel">getDataModel</a></li><li data-type="method" id="DynamicTable-getFragments-nav"><a href="DynamicTable.html#.getFragments">getFragments</a></li><li data-type="method" id="DynamicTable-getTable-nav"><a href="DynamicTable.html#.getTable">getTable</a></li><li data-type="method" id="DynamicTable-init-nav"><a href="DynamicTable.html#.init">init</a></li><li data-type="method" id="DynamicTable-runSetup-nav"><a href="DynamicTable.html#.runSetup">runSetup</a></li><li data-type="method" id="DynamicTable-setConfiguration-nav"><a href="DynamicTable.html#.setConfiguration">setConfiguration</a></li></ul></li></ul>
  </nav>

  <div id="main">
    
      <h1 class="page-title">
        Component.js
      </h1>
    

    
      

<section>
  <article>
    <pre class="prettyprint source linenums"><code>sap.ui.define(['sap/ui/core/UIComponent', 'sap/ui/model/json/JSONModel', 'DynamicTable/js/Control'], 
    function (UIComponent, JSONModel, ResponsiveTable) {
    "use strict";

    /**
     * Generates responsive tables from the OpenUI5 framework (sap.m.Table) dynamically
     * by reading properties from a data structure that resides in a JSON file.
     * 
     * @class       DynamicTable
     * @subject     DynamicTable
     * @extends     sap.ui.core.UIComponent
     */
    var Component = UIComponent.extend("DynamicTable", {

        /**
         * @property   {Object} metadata settings and information about the application
         * @memberof   DynamicTable
         */
        metadata: {
            manifest: "json"
        },

        /**
         * @method      init
         * @memberof    DynamicTable
         */
        init: function () {
            var that = this;
            sap.ui.core.UIComponent.prototype.init.apply(this, arguments);
            var sMethod = this.getComponentData().method;
            var sSubject = this.getComponentData().subject;
            var sClass = this.getComponentData().class;
            this.view = this.getComponentData().view;
            this.tables = {};
            var oTable = this.getTable(sMethod, sSubject, sClass);
        },

        /**
         * @brief   Initiates the sequence of events which configures and returns
         * a user-interface control of a responsive table.
         * 
         * @method      getTable
         * @memberof    DynamicTable
         * @example
         * // Function to instantiate a new responsive table control
         * getControl: function (sMethod, sSubject, sClass, oView) {
         *     this.view = oView;
         *     var oTable = this.getTable(sMethod, sSubject, sClass);
         *     return (oTable.getControl());
         * }
         * 
         * @param sMethod The method property of the data model
         * @param sSubject The subject property of the data model
         * @param sClass The classification property of the data model
         * @return Executes a function to configure the table
         */
        getTable: function (sMethod, sSubject, sClass) {
            var sId = sMethod + "--" + sSubject + "--" + sClass;
            if (this.tables[sMethod]) {
                if (this.tables[sMethod][sSubject]) {
                    if (this.tables[sMethod][sSubject][sClass]) {
                        return (this.tables[sMethod][sSubject][sClass]);
                    }
                    else {
                        return (this.runSetup(sId, sMethod, sSubject, sClass));
                    }
                }
                else {
                    this.tables[sMethod][sSubject] = {};
                    return (this.runSetup(sId, sMethod, sSubject, sClass));
                }
            }
            else {
                this.tables[sMethod] = {};
                this.tables[sMethod][sSubject] = {};
                return (this.runSetup(sId, sMethod, sSubject, sClass));
            }
        },

        /**
         * @brief Executes each of the configuration steps required to build a new instance
         * of the control object.
         * 
         * @method      runSetup
         * @memberof    DynamicTable
         * 
         * @param sId       The control ID for the DOM object tree
         * @param sMethod   The name of the method
         * @param sSubject  The name of the subject
         * @param sClass    The name of the class
         * 
         * @return      Instance of the Control class
         */
        runSetup: function (sId, sMethod, sSubject, sClass) {
            var oTable = new ResponsiveTable(this.createId(sId));
            var oConfig = this.getConfiguration(sMethod, sSubject, sClass);
            this.getFragments(oConfig);
            this.setConfiguration(oTable, oConfig);
            this.tables[sMethod][sSubject][sClass] = oTable;
            return (this.tables[sMethod][sSubject][sClass]);
        },

        /**
         * @brief Retrieves the node of the data structure containing the settings for 
         * the specific instance of the table.
         * 
         * @method      getConfiguration
         * @memberof    DynamicTable
         * 
         * @param sMethod   The name of the method
         * @param sSubject  The name of the subject
         * @param sClass    The name of the class
         * @return  Settings for the table configuration from the data model
         */
        getConfiguration: function (sMethod, sSubject, sClass) {
            return (this.getModel("config").getProperty("/" + sMethod + "/" + sSubject + "/" + sClass));
        },

        /**
         * @brief   Returns the entire data structure with all configuration options
         *          
         * @memberof    DynamicTable
         * 
         * @return  Model containing all methods, subjects, and classes
         */
        getConfigModel: function () {
            return (this.getModel("config"));
        },

        /**
         * @brief   Retrieves a model with sample data
         * 
         * @method      getDataModel
         * @memberof    DynamicTable
         * 
         * @return  Model containing sample data
         */
        getDataModel: function() {
            return (this.getModel("data"));
        },

        /**
         * @brief Instantiates a new control (from an XML fragment) for 
         * each of the columns in the table instance.
         * 
         * @method      getFragments
         * @memberof    DynamicTable
         * 
         * @param  oConfig  Configuration for the table instance (method + subject + class)
         */
        getFragments: function (oConfig) {
            for (var i = 0; i &lt; oConfig.columns.length; i++) {
                var oTemplate = oConfig.columns[i].template;
                var oFragment = sap.ui.xmlfragment("DynamicTable.fragment." + oTemplate.fragment, this);
                var aProperties = Object.getOwnPropertyNames(oTemplate.binding);
                for(var j = 0; j &lt; aProperties.length; j++) {
                    var sProperty = aProperties[j];
                    oFragment.bindProperty(sProperty, oTemplate.binding[sProperty]);
                }
                if(this.view) {
                    this.view.addDependent(oFragment);    
                }
                oConfig.columns[i].template = oFragment;
            }
            for (var x = 0; x &lt; oConfig.toolbar.length; x++) {
                var sTemplate = oConfig.toolbar[x];
                var oFragment = sap.ui.xmlfragment("DynamicTable.fragment." + sTemplate, this);
                if(this.view) {
                    this.view.addDependent(oFragment);    
                }
                oConfig.toolbar[x] = oFragment;
            }
        },

        /**
         * @brief   Sets the configuration options for the table
         * 
         * @method      setConfiguration
         * @memberof    DynamicTable
         * 
         * @param oTable The instantiated table object
         * @param oConfig The configuration for the table instance
         */
        setConfiguration(oTable, oConfig) {
            oTable.setConfiguration(oConfig);
        },

        /**
         * @brief   Gets a new responsive table control
         * 
         * @method      getControl
         * @memberof    DynamicTable
         * 
         * @example
         * onBeforeOpenDialog: function (oEvent) {
         *     var oSource = oEvent.getSource();
         *     var sComponent = this.getOwnerComponent().getFieldGroupId(oSource, "component");
         *     var sMethod = this.getOwnerComponent().getFieldGroupId(oSource, "method");
         *     var sSubject = this.getOwnerComponent().getFieldGroupId(oSource, "subject");
         *     var sClass = this.getOwnerComponent().getFieldGroupId(oSource, "class");
         *     var that = this;
         *     
         *     var pComponent = new Promise((resolve, reject) => {
         *         resolve(that.getOwnerComponent().getComponent(sComponent, sMethod, sSubject, sClass, that.getView()));
         *     }).then(function (oComponent) {
         *         var oControl = oComponent.getControl(sMethod, sSubject, sClass, that.getView());
         *         oSource.addContent(oControl);
         *     });
         * }
         * 
         * @param sMethod   The name of the method
         * @param sSubject  The name of the subject
         * @param sClass    The name of the class
         * @param oView     The view object requesting the control
         * 
         * @return  Instantiated user-interface control
         */
        getControl: function (sMethod, sSubject, sClass, oView) {
            this.view = oView;
            var oTable = this.getTable(sMethod, sSubject, sClass);
            return (oTable.getControl());
        }

    });

    return Component;
});</code></pre>
  </article>
</section>

    


  </div>

  <br class="clear">

  <footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a>
  </footer>

  <script src="scripts/linenumber.js"></script>
  <script src="scripts/pagelocation.js"></script>

  
  
</body>
</html>
